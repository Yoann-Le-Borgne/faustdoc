<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>3 syntax - Faust Documentation</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
        <link href="/css/quickref.css" rel="stylesheet">
        <link href="/rail/railroad-diagrams.css" rel="stylesheet">

        <script src="../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../.."><img src="../../img/faustText.svg" width="150px"> </a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href="../.." class="nav-link">Home</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Manual <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../manual/introduction/" class="dropdown-item">Introduction</a>
</li>
                                    
<li>
    <a href="../../manual/overview/" class="dropdown-item">Overview of the Faust Universe</a>
</li>
                                    
<li>
    <a href="../../manual/quick-start/" class="dropdown-item">Quick Start</a>
</li>
                                    
<li>
    <a href="../../manual/syntax/" class="dropdown-item">Faust Syntax</a>
</li>
                                    
<li>
    <a href="../../manual/errors/" class="dropdown-item">Error Messages</a>
</li>
                                    
<li>
    <a href="../../manual/compiler/" class="dropdown-item">Using the Compiler</a>
</li>
                                    
<li>
    <a href="../../manual/options/" class="dropdown-item">Compiler Options</a>
</li>
                                    
<li>
    <a href="../../manual/tools/" class="dropdown-item">faust2[...] Tools</a>
</li>
                                    
<li>
    <a href="../../manual/architectures/" class="dropdown-item">Architecture Files</a>
</li>
                                    
<li>
    <a href="../../manual/embedding/" class="dropdown-item">Embedding the Compiler</a>
</li>
                                    
<li>
    <a href="../../manual/optimizing/" class="dropdown-item">Optimizing the Code</a>
</li>
                                    
<li>
    <a href="../../manual/debugging/" class="dropdown-item">Debugging the Code</a>
</li>
                                    
<li>
    <a href="../../manual/deploying/" class="dropdown-item">Deploying on the Web</a>
</li>
                                    
<li>
    <a href="../../manual/remote/" class="dropdown-item">Remote Compilation</a>
</li>
                                    
<li>
    <a href="../../manual/mathdoc/" class="dropdown-item">Mathematical Documentation</a>
</li>
                                    
<li>
    <a href="../../manual/osc/" class="dropdown-item">OSC Support</a>
</li>
                                    
<li>
    <a href="../../manual/http/" class="dropdown-item">HTTP Support</a>
</li>
                                    
<li>
    <a href="../../manual/midi/" class="dropdown-item">MIDI Support</a>
</li>
                                    
<li>
    <a href="../../manual/soundfiles/" class="dropdown-item">Soundfiles Support</a>
</li>
                                    
<li>
    <a href="../../manual/community/" class="dropdown-item">Community</a>
</li>
                                    
<li>
    <a href="../../manual/faq/" class="dropdown-item">Frequently Asked Questions</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Examples <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../examples/ambisonics/" class="dropdown-item"> ambisonics </a>
</li>
                                    
<li>
    <a href="../../examples/analysis/" class="dropdown-item"> analysis </a>
</li>
                                    
<li>
    <a href="../../examples/bela/" class="dropdown-item"> bela </a>
</li>
                                    
<li>
    <a href="../../examples/delayEcho/" class="dropdown-item"> delayEcho </a>
</li>
                                    
<li>
    <a href="../../examples/dynamic/" class="dropdown-item"> dynamic </a>
</li>
                                    
<li>
    <a href="../../examples/filtering/" class="dropdown-item"> filtering </a>
</li>
                                    
<li>
    <a href="../../examples/gameaudio/" class="dropdown-item"> gameaudio </a>
</li>
                                    
<li>
    <a href="../../examples/generator/" class="dropdown-item"> generator </a>
</li>
                                    
<li>
    <a href="../../examples/misc/" class="dropdown-item"> misc </a>
</li>
                                    
<li>
    <a href="../../examples/phasing/" class="dropdown-item"> phasing </a>
</li>
                                    
<li>
    <a href="../../examples/physicalModeling/" class="dropdown-item"> physicalModeling </a>
</li>
                                    
<li>
    <a href="../../examples/pitchShifting/" class="dropdown-item"> pitchShifting </a>
</li>
                                    
<li>
    <a href="../../examples/psychoacoustic/" class="dropdown-item"> psychoacoustic </a>
</li>
                                    
<li>
    <a href="../../examples/reverb/" class="dropdown-item"> reverb </a>
</li>
                                    
<li>
    <a href="../../examples/SAM/" class="dropdown-item"> SAM </a>
</li>
                                    
<li>
    <a href="../../examples/smartKeyboard/" class="dropdown-item"> smartKeyboard </a>
</li>
                                    
<li>
    <a href="../../examples/spat/" class="dropdown-item"> spat </a>
</li>
                                    
<li>
    <a href="../../rsrc/examples.zip" class="dropdown-item"> Download examples </a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Tutorials <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../workshops/2020-04-10-faust-juce/" class="dropdown-item">Faust & JUCE</a>
</li>
                                    
<li>
    <a href="../../tutorials/teensy/" class="dropdown-item">DSP on the Teensy With Faust</a>
</li>
                                    
<li>
    <a href="../../tutorials/esp32/" class="dropdown-item">DSP on the ESP-32 With Faust</a>
</li>
                                    
<li>
    <a href="../../tutorials/basic-osc/" class="dropdown-item">Making a Sine Oscillator From Scratch</a>
</li>
                                    
<li>
    <a href="../../tutorials/summation/" class="dropdown-item">RMS and Summation in Faust</a>
</li>
                                    
<li>
    <a href="../../tutorials/box-api/" class="dropdown-item">Using the box API</a>
</li>
                                    
<li>
    <a href="../../tutorials/signal-api/" class="dropdown-item">Using the signal API</a>
</li>
                                    
<li>
    <a href="../../tutorials/julia/" class="dropdown-item">Using Faust in Julia</a>
</li>
                                    
<li>
    <a href="../../tutorials/cmajor/" class="dropdown-item">Using Faust in Cmajor</a>
</li>
                                    
<li>
    <a href="../../tutorials/jsfx/" class="dropdown-item">Using Faust in JSFX</a>
</li>
                                    
<li>
    <a href="../../tutorials/rnbo/" class="dropdown-item">Using Faust in RNBO with codebox~</a>
</li>
                                    
<li>
    <a href="../../tutorials/debugging/" class="dropdown-item">Advanced debugging with interp-tracer</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Workshops <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../workshops/2018-12-01-paw/" class="dropdown-item"> 2018-12-01 PAW </a>
</li>
                                    
<li>
    <a href="../../workshops/2020-03-24-faust-citi/" class="dropdown-item"> 2020-03-24 CITI </a>
</li>
                                    
<li>
    <a href="../../workshops/2020-04-10-faust-101/" class="dropdown-item"> 2020-04-10 Faust 101 </a>
</li>
                                    
<li>
    <a href="../../workshops/2020-04-10-faust-juce/" class="dropdown-item"> 2020-04-10 Faust & JUCE </a>
</li>
                                    
<li>
    <a href="../../workshops/2020-11-21-faust-vcvrack/" class="dropdown-item"> 2020-11-21 Faust & VCV Rack </a>
</li>
                                </ul>
                            </li>
                            <li class="navitem">
                                <a href="../../about/" class="nav-link">About</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        
        

        <div class="container">
            <div class="row"><div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#faust-syntax" class="nav-link">Faust syntax</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#faust-program" class="nav-link">Faust program</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="3"><a href="#a-simple-program" class="nav-link">A Simple Program</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#statements" class="nav-link">Statements</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="3"><a href="#declarations" class="nav-link">Declarations</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#imports" class="nav-link">Imports</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#documentation" class="nav-link">Documentation</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#definitions" class="nav-link">Definitions</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="3"><a href="#simple-definitions" class="nav-link">Simple Definitions</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#function-definitions" class="nav-link">Function Definitions</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#definitions-with-pattern-matching" class="nav-link">Definitions with pattern matching</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#variants" class="nav-link">Variants</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#expressions" class="nav-link">Expressions</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="3"><a href="#constant-numerical-expressions" class="nav-link">Constant Numerical Expressions</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#diagram-expressions" class="nav-link">Diagram Expressions</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9 main-container" role="main">

<script src='/rail/railroad-diagrams.js'></script>

<h1 id="faust-syntax"><span class="smallcaps">Faust</span> syntax</h1>
<p><a name="syntax"></a></p>
<p>This section describes the syntax of <span class="smallcaps">Faust</span>. Figure <a href="../3-syntax#fig-syntax">fig-syntax</a> gives an overview of the various concepts and where they are defined in this section. 
<a name="fig-syntax"></a>
<img alt="fig-syntax" src="../illustrations/syntax-chart.png" />
<span class='caption'>Overview of <span class="smallcaps">Faust</span> syntax</span></p>
<p>As we will see, <em>definitions</em> and <em>expressions</em> have a central role.</p>
<h2 id="faust-program"><span class="smallcaps">Faust</span> program</h2>
<p>A <span class="smallcaps">Faust</span> program is essentially a list of <em>statements</em>. These statements can be <em>declarations</em>, <em>imports</em>, <em>definitions</em> and <em>documentation tags</em>, with optional C++ style (//... and /<em>...</em>/) comments.</p>
<div class="rail">
<span class="railtitle">program</span>
<br /><script>
ComplexDiagram(
    OneOrMore (NonTerminal('statement'))
).addTo()

</script>
</div>

<h3 id="a-simple-program">A Simple Program</h3>
<p>Here is a short <span class="smallcaps">Faust</span> program that implements of a simple noise generator. It exhibits various kind of statements: two <em>declarations</em>, an <em>import</em>, a <em>comment</em> and a <em>definition</em>. We will see later on <em>documentation</em> statements (<a href="../3-syntax#sec-documentation">sec-documentation</a>).</p>
<pre><code>declare name       &quot;noise&quot;;
declare copyright  &quot;(c)GRAME 2006&quot;;

import(&quot;music.lib&quot;);

// noise level controlled by a slider
process = noise * vslider(&quot;volume&quot;, 0, 0, 1, 0.1);
</code></pre>
<p>The keyword <span class="lstinline">process</span> is the equivalent of <span class="lstinline">main</span> in C/C++. Any <span class="smallcaps">Faust</span> program, to be valid, must at least define <span class="lstinline">process</span>.</p>
<h2 id="statements">Statements</h2>
<p>The <em>statements</em> of a <span class="smallcaps">Faust</span> program are of four kinds: <em>metadata declarations</em>, <em>file imports</em>,  <em>definitions</em> and <em>documentation</em>. All statements but documentation end with a semicolon (<span class="lstinline">;</span>). </p>
<div class="rail">
<span class="railtitle">statement</span>
<br /><script>
ComplexDiagram(
    Choice (0, NonTerminal('declaration'), NonTerminal('fileimport'), NonTerminal('definition'), NonTerminal('documentation'))
).addTo()

</script>
</div>

<h3 id="declarations">Declarations</h3>
<p>Meta-data declarations (for example <span class="lstinline">declare name "noise";</span>) are optional and typically used to document a <span class="smallcaps">Faust</span> project. </p>
<div class="rail">
<span class="railtitle">declaration</span>
<br /><script>
ComplexDiagram(
    Sequence ("declare", NonTerminal('key'), NonTerminal('string'), ';')
).addTo()

</script>
</div>

<div class="rail">
<span class="railtitle">key</span>
<br /><script>
ComplexDiagram(
    NonTerminal('identifier')
).addTo()

</script>
</div>

<p>Contrary to regular comments, these declarations will appear in the C++ code generated by the compiler. A good practice is to start a <span class="smallcaps">Faust</span> program with some standard declarations:</p>
<pre><code>declare name &quot;MyProgram&quot;;
declare author &quot;MySelf&quot;;
declare copyright &quot;MyCompany&quot;;
declare version &quot;1.00&quot;;
declare license &quot;BSD&quot;; 
</code></pre>
<h3 id="imports">Imports</h3>
<p>File imports allow to import definitions from other source files.  </p>
<div class="rail">
<span class="railtitle">fileimport</span>
<br /><script>
ComplexDiagram(
    Sequence ("import", '(', NonTerminal('filename'), ')', ';')
).addTo()

</script>
</div>

<p>For example <span class="lstinline">import("maths.lib");</span> imports the definitions of the <span class="lstinline">maths.lib</span> library, a set of additional mathematical functions provided as foreign functions.</p>
<h3 id="documentation">Documentation</h3>
<p><a name="sec-documentation"></a></p>
<p>Documentation statements are optional and typically used to control the generation of the mathematical documentation of a <span class="smallcaps">Faust</span> program. This documentation system is detailed chapter \ref{chapter-mdoc}. In this section we will essentially describe the documentation statements syntax.</p>
<p>A documentation statement starts with an opening <span class="lstinline">&lt;mdoc&gt;</span> tag and ends with a closing <span class="lstinline">&lt;/mdoc&gt;</span> tag. Free text content, typically in LaTeX format, can be placed in between these two tags. </p>
<div class="rail">
<span class="railtitle">documentation</span>
<br /><script>
ComplexDiagram(
    Sequence ("<mdoc>", OneOrMore (Choice (0, NonTerminal('freetext'), NonTerminal('equation'), NonTerminal('diagram'), NonTerminal('metadata'), NonTerminal('notice'), NonTerminal('listing'))), "</mdoc>")
).addTo()

</script>
</div>

<p>Moreover, optional sub-tags can be inserted in the text content itself to require the generation, at the insertion point, of mathematical <em>equations</em>, graphical <em>block-diagrams</em>, <span class="smallcaps">Faust</span> source code <em>listing</em> and explanation <em>notice</em>.</p>
<div class="rail">
<span class="railtitle">equation</span>
<br /><script>
ComplexDiagram(
    Sequence ("<equation>", NonTerminal('expression'), "</equation>")
).addTo()

</script>
</div>

<p>The generation of the mathematical equations of a <span class="smallcaps">Faust</span> expression can be requested by placing this expression between an opening <span class="lstinline">&lt;equation&gt;</span> and a closing <span class="lstinline">&lt;/equation&gt;</span> tag. The expression is evaluated within the lexical context of the <span class="smallcaps">Faust</span> program.</p>
<div class="rail">
<span class="railtitle">diagram</span>
<br /><script>
ComplexDiagram(
    Sequence ("<diagram>", NonTerminal('expression'), "</diagram>")
).addTo()

</script>
</div>

<p>Similarly, the generation of the graphical block-diagram of a <span class="smallcaps">Faust</span> expression can be requested by placing this expression between an opening <span class="lstinline">&lt;diagram&gt;</span> and a closing <span class="lstinline">&lt;/diagram&gt;</span> tag. The expression is evaluated within the lexical context of the <span class="smallcaps">Faust</span> program.</p>
<div class="rail">
<span class="railtitle">metadata</span>
<br /><script>
ComplexDiagram(
    Sequence ("<metadata>", NonTerminal('keyword'), "</metadata>")
).addTo()

</script>
</div>

<p>The <span class="lstinline">&lt;metadata&gt;</span> tags allow to reference <span class="smallcaps">Faust</span> metadatas (cf. declarations), calling the corresponding keyword.</p>
<div class="rail">
<span class="railtitle">notice</span>
<br /><script>
ComplexDiagram(
    "<notice />"
).addTo()

</script>
</div>

<p>The <span class="lstinline">&lt;notice /&gt;</span> empty-element tag is used to generate the conventions used in the mathematical equations.</p>
<div class="rail">
<span class="railtitle">listing</span>
<br /><script>
ComplexDiagram(
    Sequence ("<listing", NonTerminal('listingattribute*'), " />")
).addTo()

</script>
</div>

<div class="rail">
<span class="railtitle">listingattribute</span>
<br /><script>
ComplexDiagram(
    Sequence (Choice (0, "mdoctags", "dependencies", "distributed"), "=", Choice (0, '"true"', '"false"'))
).addTo()

</script>
</div>

<p>The <span class="lstinline">&lt;listing /&gt;</span> empty-element tag is used to generate the listing of the <span class="smallcaps">Faust</span> program. Its three attributes <span class="lstinline">mdoctags</span>, <span class="lstinline">dependencies</span> and <span class="lstinline">distributed</span> enable or disable respectively <span class="lstinline">&lt;mdoc&gt;</span> tags, other files dependencies and distribution of interleaved faust code between <span class="lstinline"><mdoc></span> sections.</p>
<h2 id="definitions">Definitions</h2>
<p>A <em>definition</em> associates an identifier with an expression it stands for. </p>
<p>Definitions are essentially a convenient shortcut avoiding to type long expressions. During compilation, more precisely during the evaluation stage, identifiers are replaced by their definitions. It is therefore always equivalent to use an identifier or directly its definition. Please note that multiple definitions of a same identifier are not allowed, unless it is a pattern matching based definition.</p>
<h3 id="simple-definitions">Simple Definitions</h3>
<p>The syntax of a simple definition is:</p>
<div class="rail">
<span class="railtitle">definition</span>
<br /><script>
ComplexDiagram(
    Sequence (NonTerminal('identifier'), '=', NonTerminal('expression'), ';')
).addTo()

</script>
</div>

<p>For example here is the definition of <span class="lstinline">random</span>, a simple pseudo-random number generator:</p>
<pre><code> random = +(12345) ~ *(1103515245);
</code></pre>
<h3 id="function-definitions">Function Definitions</h3>
<p>Definitions with formal parameters correspond to functions definitions.</p>
<div class="rail">
<span class="railtitle">fdefinition</span>
<br /><script>
ComplexDiagram(
    Sequence (NonTerminal('identifier'), '(', OneOrMore (NonTerminal('parameter'), ','), ')', '=', NonTerminal('expression'), ';')
).addTo()

</script>
</div>

<p>For example the definition of <span class="lstinline">linear2db</span>, a function that converts linear values to decibels, is :</p>
<pre><code> linear2db(x) = 20*log10(x);
</code></pre>
<p>Please note that this notation is only a convenient alternative to the direct use of <em>lambda-abstractions</em> (also called anonymous functions). The following is an equivalent definition of <span class="lstinline">linear2db</span> using a lambda-abstraction:</p>
<pre><code> linear2db = \(x).(20*log10(x));
</code></pre>
<h3 id="definitions-with-pattern-matching">Definitions with pattern matching</h3>
<p>Moreover, formal parameters can also be full expressions representing patterns. </p>
<div class="rail">
<span class="railtitle">pdefinition</span>
<br /><script>
ComplexDiagram(
    Sequence (NonTerminal('identifier'), '(', OneOrMore (NonTerminal('pattern'), ','), ')', '=', NonTerminal('expression'), ';')
).addTo()

</script>
</div>

<div class="rail">
<span class="railtitle">pattern</span>
<br /><script>
ComplexDiagram(
    Choice (0, NonTerminal('identifier'), NonTerminal('expression'))
).addTo()

</script>
</div>

<p>This powerful mechanism allows to algorithmically create and manipulate block diagrams expressions. Let's say that you want to describe a function to duplicate an expression several times in parallel:</p>
<pre><code> duplicate(1,x) = x;
 duplicate(n,x) = x, duplicate(n-1,x);
</code></pre>
<p>Please note that this last definition is a convenient alternative to the more verbose :</p>
<pre><code> duplicate = case { 
               (1,x) =&gt; x; 
               (n,x) =&gt; duplicate(n-1,x); 
             };
</code></pre>
<p>Here is another example to count the number of elements of a list. Please note that we simulate lists using parallel composition : (1,2,3,5,7,11). The main limitation of this approach is that there is no empty list. Moreover lists of only one element are represented by this element :</p>
<pre><code> count((x,xs)) = 1+count(xs);
 count(x) = 1;
</code></pre>
<p>If we now write <span class="lstinline">count(duplicate(10,666))</span> the expression will be evaluated to <span class="lstinline">10</span>.</p>
<p>Please note that the order of pattern matching rules matters. The more specific rules must precede the more general rules. When this order is not respected, as in :</p>
<pre><code> count(x) = 1;
 count((x,xs)) = 1+count(xs);
</code></pre>
<p>the first rule will always match and the second rule will never be called.</p>
<p>Please note that number arguments in pattern matching rules are typically <em>constant numerical expressions</em>, so can be the result of more complex expressions involving computations done at compile-time.</p>
<h3 id="variants">Variants</h3>
<p>Some statements (imports, definitions) can be preceded by a variantlist, composed of variants which can be <em>singleprecision</em>, <em>doubleprecision</em>, <em>quadprecision</em> or <em>fixedpointprecision</em> This allows some imports and definitions to be effective only for a (or several) specific float precision option in the compiler (that is either <span class="lstinline">-single</span>, <span class="lstinline">-double</span>, <span class="lstinline">-quad</span> or <span class="lstinline">-fx</span> respectively). A typical use-case is the definition of floating point constants in the maths.lib library with the following lines:</p>
<pre><code>
singleprecision MAX = 3.402823466e+38;
doubleprecision MAX = 1.7976931348623158e+308;

</code></pre>
<h2 id="expressions">Expressions</h2>
<p>Despite its textual syntax, <span class="smallcaps">Faust</span> is conceptually a block-diagram language. <span class="smallcaps">Faust</span> expressions represent DSP block-diagrams and are assembled from primitive ones using various <em>composition</em> operations. More traditional <em>numerical</em> expressions in infix notation are also possible. Additionally <span class="smallcaps">Faust</span> provides time based expressions, like delays, expressions related to lexical environments, expressions to interface with foreign function and lambda expressions.</p>
<div class="rail">
<span class="railtitle">expression</span>
<br /><script>
ComplexDiagram(
    Choice (0, NonTerminal('diagram'), NonTerminal('insouts'), NonTerminal('numerical'), NonTerminal('time'), NonTerminal('lexical'), NonTerminal('foreign'), NonTerminal('lambda'))
).addTo()

</script>
</div>

<h3 id="constant-numerical-expressions">Constant Numerical Expressions</h3>
<p>Some language primitives (like <em>rdtable</em>, <em>rwtable</em>, <em>hslider</em> etc.) take constant numbers as some of their parameters. This is the case also for expressions using pattern matching techniques. Those numbers can be directly given in the code, but can also be computed by more complex expressions which have to produce numbers at compile time. We will refer to them as <em>constant numerical expressions</em> in the documentation.</p>
<h3 id="diagram-expressions">Diagram Expressions</h3>
<p>Diagram expressions are assembled from primitive ones using either binary composition operations or high level iterative constructions.</p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
                <p>Copyright &copy; 2020-2024 <a href="https://www.grame.fr">Grame-CNCM</a></p>
        </footer>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML" defer></script>
        <script src="../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
